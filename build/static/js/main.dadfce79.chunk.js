(this["webpackJsonpsolita-dev-academy-2021-fall-frontend"]=this["webpackJsonpsolita-dev-academy-2021-fall-frontend"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(14),i=n.n(a),s=n(3),r=n(0),o=function(e){var t=e.dateOfFirstOrder,n=e.dateOfLatestOrder,c=e.dateOfFirstVaccination,a=e.dateOfLatestVaccination;return"undefined"!==typeof t&&""!==t&&"undefined"!==typeof n&&""!==n&&"undefined"!==typeof c&&""!==c&&"undefined"!==typeof a&&""!==a?Object(r.jsxs)("div",{id:"basicStatistics",children:[Object(r.jsxs)("p",{children:["Date of first vaccine order: ",Object(r.jsx)("span",{children:t})]}),Object(r.jsxs)("p",{children:["Date of latest vaccine order: ",Object(r.jsx)("span",{children:n})]}),Object(r.jsxs)("p",{children:["Date of first vaccination: ",Object(r.jsx)("span",{children:c})]}),Object(r.jsxs)("p",{children:["Date of latest vaccination: ",Object(r.jsx)("span",{children:a})]})]}):Object(r.jsx)("div",{id:"basicStatistics",children:Object(r.jsx)("p",{children:"Loading. Please wait."})})},d=function(e){var t=e.amountOfOrders,n=e.amountOfVaccines,c=e.amountOfVaccinationsDone,a=e.vaccinesLeftToUse;return"undefined"!==typeof t&&0!==t&&"undefined"!==typeof c&&0!==c&&"undefined"!==typeof n&&0!==n?Object(r.jsxs)("div",{id:"statisticsBasedOnUserInput",children:[Object(r.jsxs)("p",{children:["Amount of orders arrived: ",Object(r.jsx)("span",{children:t})]}),Object(r.jsxs)("p",{children:["Amount of vaccines: ",Object(r.jsx)("span",{children:n})]}),Object(r.jsxs)("p",{children:["Amount of vaccinations done: ",Object(r.jsx)("span",{children:c})]}),Object(r.jsxs)("p",{children:["Amount of vaccines left to use: ",Object(r.jsx)("span",{children:a})," (Some of them might be expired!)"]})]}):Object(r.jsx)("div",{id:"statisticsBasedOnUserInput",children:Object(r.jsx)("p",{children:"Loading. Please wait."})})},u=function(e){var t=e.handleDateTimeSubmit,n=e.date,c=e.handleDateChange,a=e.time,i=e.handleTimeChange;return Object(r.jsx)("form",{id:"dateTimePickerForm",onSubmit:t,children:Object(r.jsxs)("div",{id:"dateTimePickerContainer",children:[Object(r.jsx)("label",{htmlFor:"datePicker",children:"Choose date"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"date",id:"datePicker",name:"datePicker",value:n,onChange:c,required:!0}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"timePicker",children:"Choose time"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"time",step:"1",id:"timePicker",name:"timePicker",value:a,onChange:i,required:!0}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{type:"submit",children:"Send"})]})})},j=n(4),l=n.n(j),f="/api/orders",O=function(){return l.a.get("".concat(f,"/firstOrderDate")).then((function(e){return e.data}))},h=function(){return l.a.get("".concat(f,"/latestOrderDate")).then((function(e){return e.data}))},b=function(e){return l.a.get("".concat(f,"/amountOfOrders/").concat(e)).then((function(e){return e.data}))},m=function(e){return l.a.get("".concat(f,"/amountOfVaccines/").concat(e)).then((function(e){return e.data}))},p="/api/vaccinations",x=function(){return l.a.get("".concat(p,"/firstVaccinationDate")).then((function(e){return e.data}))},v=function(){return l.a.get("".concat(p,"/latestVaccinationDate")).then((function(e){return e.data}))},g=function(e){return l.a.get("".concat(p,"/amountOfVaccinationsDone/").concat(e)).then((function(e){return e.data}))},D=n.p+"static/media/time_machine.b4c7c82f.jpg",w=(n(38),function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),j=Object(s.a)(i,2),l=j[0],f=j[1],p=Object(c.useState)(new Date),w=Object(s.a)(p,2),T=w[0],y=w[1],C=function(e){var t=Object.keys(e[0])[0];return e[0][t]},S=function(e){return console.log("dateAndTimeObject:",e),e.getUTCFullYear()+"-"+("0"+(e.getUTCMonth()+1)).slice(-2)+"-"+("0"+e.getUTCDate()).slice(-2)+" "+("0"+e.getUTCHours()).slice(-2)+":"+("0"+e.getUTCMinutes()).slice(-2)+":"+("0"+e.getUTCSeconds()).slice(-2)},k=function(e){return S(new Date(e))},U=Object(c.useState)(""),V=Object(s.a)(U,2),P=V[0],F=V[1],L=Object(c.useState)(""),A=Object(s.a)(L,2),E=A[0],H=A[1],I=Object(c.useState)(""),M=Object(s.a)(I,2),B=M[0],q=M[1],J=Object(c.useState)(""),_=Object(s.a)(J,2),z=_[0],Y=_[1];Object(c.useEffect)((function(){O().then((function(e){F(k(C(e)))})),h().then((function(e){H(k(C(e)))})),x().then((function(e){q(k(C(e)))})),v().then((function(e){Y(k(C(e)))}))}),[]);var Z=Object(c.useState)(0),G=Object(s.a)(Z,2),K=G[0],N=G[1],Q=Object(c.useState)(0),R=Object(s.a)(Q,2),W=R[0],X=R[1],$=Object(c.useState)(0),ee=Object(s.a)($,2),te=ee[0],ne=ee[1];Object(c.useEffect)((function(){""!==T&&(b(T).then((function(e){N(C(e))})),g(T).then((function(e){X(C(e))})),m(T).then((function(e){ne(C(e))})))}),[T]);var ce=Object(c.useState)(0),ae=Object(s.a)(ce,2),ie=ae[0],se=ae[1];return Object(c.useEffect)((function(){se(te-W)}),[W,te]),Object(r.jsxs)("div",{id:"appContainer",children:[Object(r.jsx)("h1",{children:"THL vaccine orders and vaccinations"}),Object(r.jsx)("p",{id:"allDatesUTC",children:"All dates are UTC (Coordinated Universal Time) unless otherwise stated"}),Object(r.jsx)(o,{dateOfFirstOrder:P,dateOfLatestOrder:E,dateOfFirstVaccination:B,dateOfLatestVaccination:z}),Object(r.jsxs)("h2",{id:"givenDateHeadline",children:["Up to the following date (your local time zone) ",Object(r.jsx)("span",{id:"givenDate",children:S(T)})]}),Object(r.jsx)(d,{amountOfOrders:K,amountOfVaccines:te,amountOfVaccinationsDone:W,vaccinesLeftToUse:ie}),Object(r.jsx)("h2",{id:"filterHeadline",children:"Filter results by using the following time machine"}),Object(r.jsx)("img",{id:"timeMachineImg",src:D,alt:"funny time machine",width:"300px"}),Object(r.jsx)(u,{handleDateTimeSubmit:function(e){e.preventDefault(),console.log("date, event.target[0].value:",e.target[0].value),console.log("time, event.target[1].value:",e.target[1].value);var t=e.target[0].value,n=e.target[1].value;y(new Date(t.concat("T").concat(n).concat("Z")))},date:n,handleDateChange:function(e){a(e.target.value)},time:l,handleTimeChange:function(e){f(e.target.value)}}),Object(r.jsxs)("p",{children:["Photo ",Object(r.jsx)("a",{href:"https://www.dreamstime.com/royalty-free-stock-image-time-machine-humour-concept-image17334246",children:"17334246"})," / ",Object(r.jsx)("a",{href:"https://www.dreamstime.com/photos-images/time-machine.html",children:"Time Machine"})," \xa9 ",Object(r.jsx)("a",{href:"https://www.dreamstime.com/vilax_info",children:"Aleksandr Volkov"})," | ",Object(r.jsx)("a",{href:"https://www.dreamstime.com/photos-images/time-machine.html",children:"Dreamstime.com"})]})]})});i.a.render(Object(r.jsx)(w,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.dadfce79.chunk.js.map