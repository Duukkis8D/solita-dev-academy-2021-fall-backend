(this["webpackJsonpsolita-dev-academy-2021-fall-frontend"]=this["webpackJsonpsolita-dev-academy-2021-fall-frontend"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(14),c=n.n(a),s=n(2),r=n(0),d=function(e){var t=e.dateOfFirstOrder,n=e.dateOfLatestOrder,i=e.dateOfFirstVaccination,a=e.dateOfLatestVaccination;return"undefined"!==typeof t&&""!==t&&"undefined"!==typeof n&&""!==n&&"undefined"!==typeof i&&""!==i&&"undefined"!==typeof a&&""!==a?Object(r.jsxs)("div",{id:"basicStatistics",children:[Object(r.jsx)("p",{className:"quantifierText statisticsInnerMarginTop",children:"Date of"}),Object(r.jsxs)("ul",{className:"statisticsInnerMarginBottom",children:[Object(r.jsxs)("li",{children:["first vaccine order: ",Object(r.jsx)("span",{children:t})]}),Object(r.jsxs)("li",{children:["latest vaccine order: ",Object(r.jsx)("span",{children:n})]}),Object(r.jsxs)("li",{children:["first vaccination: ",Object(r.jsx)("span",{children:i})]}),Object(r.jsxs)("li",{children:["latest vaccination: ",Object(r.jsx)("span",{children:a})]})]})]}):Object(r.jsx)("div",{id:"basicStatistics",children:Object(r.jsx)("p",{children:"Loading. Please wait."})})},o=function(e){var t=e.amountOfOrders,n=e.amountOfVaccines,i=e.amountOfVaccinationsDone,a=e.vaccinesLeftToUse,c=e.vaccinesExpiredBeforeUse;return"undefined"!==typeof t&&""!==t&&"undefined"!==typeof i&&""!==i&&"undefined"!==typeof n&&""!==n&&"undefined"!==typeof c&&""!==c?Object(r.jsxs)("div",{id:"statisticsBasedOnUserInput",children:[Object(r.jsx)("p",{className:"quantifierText statisticsInnerMarginTop",children:"Number of"}),Object(r.jsxs)("ul",{className:"statisticsInnerMarginBottom",children:[Object(r.jsxs)("li",{children:["orders arrived: ",Object(r.jsx)("span",{children:t})]}),Object(r.jsxs)("li",{children:["vaccines: ",Object(r.jsx)("span",{children:n})]}),Object(r.jsxs)("li",{children:["vaccinations done: ",Object(r.jsx)("span",{children:i})]}),Object(r.jsxs)("li",{children:["vaccines left to use: ",Object(r.jsx)("span",{children:a}),Object(r.jsxs)("span",{id:"expirationNote",children:[" (Some of them might be expired! ",Object(r.jsx)("span",{role:"img","aria-label":"wastebasket",children:"\ud83d\uddd1\ufe0f"}),")"]})]}),Object(r.jsxs)("li",{children:["vaccines expired before the usage: ",Object(r.jsx)("span",{children:c})," ",function(){var e=c/a*100;return e<20?Object(r.jsx)("span",{role:"img","aria-label":"superhero",children:"\ud83e\uddb8"}):e>=20&&e<40?Object(r.jsx)("span",{role:"img","aria-label":"slightly happy",children:"\ud83d\ude42"}):e>=40&&e<60?Object(r.jsx)("span",{role:"img","aria-label":"worried",children:"\ud83d\ude1f"}):Object(r.jsx)("span",{role:"img","aria-label":"crying",children:"\ud83d\ude2d"})}()]})]})]}):Object(r.jsx)("div",{id:"statisticsBasedOnUserInput",children:Object(r.jsx)("p",{children:"Loading. Please wait."})})},j=function(e){var t=e.handleDateTimeSubmit,n=e.date,i=e.handleDateChange,a=e.time,c=e.handleTimeChange,s=e.minDateAndTime,d=e.maxDateAndTime,o=function(e){return e.getUTCFullYear()+"-"+("0"+(e.getUTCMonth()+1)).slice(-2)+"-"+("0"+e.getUTCDate()).slice(-2)};return"undefined"!==typeof s&&""!==s&&"undefined"!==typeof d&&""!==d?Object(r.jsx)("div",{id:"dateTimePickerContainer",children:Object(r.jsxs)("form",{id:"dateTimePickerForm",onSubmit:t,children:[Object(r.jsx)("label",{htmlFor:"datePicker",children:"Choose date"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"date",id:"datePicker",name:"datePicker",value:n,onChange:i,required:!0,min:o(s),max:o(d)}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"timePicker",children:"Choose time"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"time",step:"1",id:"timePicker",name:"timePicker",value:a,onChange:c,required:!0}),Object(r.jsx)("br",{}),Object(r.jsxs)("button",{type:"submit",children:["Send ",Object(r.jsx)("span",{role:"img","aria-label":"letter",children:"\u2709\ufe0f"})]})]})}):Object(r.jsx)("div",{id:"dateTimePickerContainer",children:Object(r.jsx)("p",{children:"Loading. Please wait."})})},l=n(4),u=n.n(l),b="/api/orders",h=function(){return u.a.get("".concat(b,"/firstOrderDate")).then((function(e){return e.data}))},O=function(){return u.a.get("".concat(b,"/latestOrderDate")).then((function(e){return e.data}))},f=function(e){return u.a.get("".concat(b,"/amountOfOrders/").concat(e)).then((function(e){return e.data}))},m=function(e){return u.a.get("".concat(b,"/amountOfVaccines/").concat(e)).then((function(e){return e.data}))},p=function(e){return u.a.get("".concat(b,"/vaccinesExpiredBeforeUse/").concat(e)).then((function(e){return e.data}))},x="/api/vaccinations",g=function(){return u.a.get("".concat(x,"/firstVaccinationDate")).then((function(e){return e.data}))},v=function(){return u.a.get("".concat(x,"/latestVaccinationDate")).then((function(e){return e.data}))},D=function(e){return u.a.get("".concat(x,"/amountOfVaccinationsDone/").concat(e)).then((function(e){return e.data}))},w=n.p+"static/media/time_machine.b4c7c82f.jpg",T=(n(38),function(){var e=Object(i.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(""),l=Object(s.a)(c,2),u=l[0],b=l[1],x=Object(i.useState)(new Date),T=Object(s.a)(x,2),y=T[0],C=T[1],S=function(e){var t=Object.keys(e[0])[0];return e[0][t]},U=function(e){return e.getUTCFullYear()+"-"+("0"+(e.getUTCMonth()+1)).slice(-2)+"-"+("0"+e.getUTCDate()).slice(-2)+" "+("0"+e.getUTCHours()).slice(-2)+":"+("0"+e.getUTCMinutes()).slice(-2)+":"+("0"+e.getUTCSeconds()).slice(-2)},k=function(e){return U(new Date(e))},P=Object(i.useState)(""),V=Object(s.a)(P,2),M=V[0],L=V[1],F=Object(i.useState)(""),I=Object(s.a)(F,2),B=I[0],E=I[1],A=Object(i.useState)(""),N=Object(s.a)(A,2),q=N[0],H=N[1],G=Object(i.useState)(""),J=Object(s.a)(G,2),Y=J[0],_=J[1];Object(i.useEffect)((function(){h().then((function(e){L(k(S(e)))})),O().then((function(e){E(k(S(e)))})),g().then((function(e){H(k(S(e)))})),v().then((function(e){_(k(S(e)))}))}),[]);var Z=Object(i.useState)(""),z=Object(s.a)(Z,2),K=z[0],Q=z[1],R=Object(i.useState)(""),W=Object(s.a)(R,2),X=W[0],$=W[1];Object(i.useEffect)((function(){"undefined"!==typeof M&&""!==M&&"undefined"!==typeof B&&""!==B&&"undefined"!==typeof q&&""!==q&&"undefined"!==typeof Y&&""!==Y&&(new Date(M)<new Date(q)?Q(new Date(M)):Q(new Date(q)),new Date(B)<new Date(Y)?$(new Date(Y)):$(new Date(B)))}),[M,B,q,Y]);var ee=Object(i.useState)(""),te=Object(s.a)(ee,2),ne=te[0],ie=te[1],ae=Object(i.useState)(""),ce=Object(s.a)(ae,2),se=ce[0],re=ce[1],de=Object(i.useState)(""),oe=Object(s.a)(de,2),je=oe[0],le=oe[1],ue=Object(i.useState)(""),be=Object(s.a)(ue,2),he=be[0],Oe=be[1];Object(i.useEffect)((function(){""!==y&&(f(y).then((function(e){ie(S(e))})),D(y).then((function(e){re(S(e))})),m(y).then((function(e){le(S(e))})),p(y).then((function(e){Oe(S(e))})))}),[y]);var fe=Object(i.useState)(""),me=Object(s.a)(fe,2),pe=me[0],xe=me[1];return Object(i.useEffect)((function(){xe(je-se)}),[se,je]),Object(r.jsxs)("div",{id:"appContainer",children:[Object(r.jsxs)("h1",{children:["THL vaccine orders and vaccinations ",Object(r.jsx)("span",{role:"img","aria-label":"vaccination",children:"\ud83d\udc89"})]}),Object(r.jsxs)("p",{id:"allDatesUTC",children:[Object(r.jsx)("span",{role:"img","aria-label":"info",children:"\u2139\ufe0f"})," All dates are UTC (Coordinated Universal Time)"]}),Object(r.jsx)(d,{dateOfFirstOrder:M,dateOfLatestOrder:B,dateOfFirstVaccination:q,dateOfLatestVaccination:Y}),Object(r.jsx)("h2",{id:"timeMachineHeadline",children:"Go back in time section"}),Object(r.jsxs)("p",{id:"timeMachineDescription",children:[Object(r.jsx)("span",{role:"img","aria-label":"calendar",children:"\ud83d\udcc5"})," Give a date and time to this time machine to see the history"]}),Object(r.jsx)("img",{id:"timeMachineImg",src:w,alt:"funny time machine",width:"245px"}),Object(r.jsx)(j,{handleDateTimeSubmit:function(e){e.preventDefault();var t=e.target[0].value,n=e.target[1].value;C(new Date(t.concat("T").concat(n).concat("Z")))},date:n,handleDateChange:function(e){a(e.target.value)},time:u,handleTimeChange:function(e){b(e.target.value)},minDateAndTime:K,maxDateAndTime:X}),Object(r.jsx)("p",{id:"givenDateDescription",children:"Data based on the following date:"}),Object(r.jsx)("p",{id:"givenDate",children:U(y)}),Object(r.jsx)(o,{amountOfOrders:ne,amountOfVaccines:je,amountOfVaccinationsDone:se,vaccinesLeftToUse:pe,vaccinesExpiredBeforeUse:he}),Object(r.jsxs)("p",{id:"photoInfo",children:["Photo ",Object(r.jsx)("a",{href:"https://www.dreamstime.com/royalty-free-stock-image-time-machine-humour-concept-image17334246",children:"17334246"})," / ",Object(r.jsx)("a",{href:"https://www.dreamstime.com/photos-images/time-machine.html",children:"Time Machine"})," \xa9 ",Object(r.jsx)("a",{href:"https://www.dreamstime.com/vilax_info",children:"Aleksandr Volkov"})," | ",Object(r.jsx)("a",{href:"https://www.dreamstime.com/photos-images/time-machine.html",children:"Dreamstime.com"})]})]})});c.a.render(Object(r.jsx)(T,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.5073a202.chunk.js.map